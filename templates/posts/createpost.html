{{template "base" .}}
{{define "content"}}

<div class="container-fluid" style="width: 40%;">
    <form action="/createpost" method="post">

        <div class="mt-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" name="title" id="title" class="form-control" required>
        </div>


        <div class="mt-3">
            <label for="body" class="form-label">Text</label>
            <textarea name="body" id="body" cols="10" rows="6" class="form-control" required> </textarea>
        </div>

        <div class="mt-3">
            <label for="tags" style="display: block;">Tags</label>
            <select style="overflow:hidden;" class="selectpicker" data-live-search="true" title="Select a tag..."
                name="tags" id="tags" multiple required data-dropup-auto="false" data-actions-box="true"
                data-width="100%">
                {{ range .Tags}}
                <option style="background-color: #434950; color: rgb(216, 205, 205);" value="{{.}}">{{.}}
                </option>
                {{ end}}
            </select>

            <button id="addOptions" class="btn btn-success">Add</button>
        </div>



        <button type="submit" class="btn btn-primary mt-3 float-right">Create</button>


    </form>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

    $(document).on('click', '#addOptions', function () {
        var tag = $("input:search.form-control").val()

        // Append the option to select
        $('.selectpicker').append('<option value="' + tag + '">' + tag + '</option>');

        // Set the select value with new option
        $(".selectpicker").val(tag);

        // Refresh the selectpicker
        $(".selectpicker").selectpicker("refresh");
    });
</script>


{{end}}